<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Up</title>
    <link rel="stylesheet" href="css/signup.css" />
  </head>

  <body>
    <div class="Singin-box">
      <div class="singin">
        <h1>Sign Up</h1>
      </div>

      <!-- Wrap inputs in a proper form -->
      <form id="signupForm">
        <div class="input-box">
          <input type="text" id="username" class="input" placeholder="Username" required />
        </div>
        <div class="input-box">
          <input type="email" id="email" class="input" placeholder="E-mail" required />
        </div>
        <div class="input-box">
          <input type="password" id="password" class="input" placeholder="Password" required />
        </div>
        <div class="input-box">
          <input type="password" id="confirmPassword" class="input" placeholder="Confirm password" required />
        </div>
        <button type="submit" class="creat-acc">Create Account</button>
      </form>
    </div>

    <script type="module">
      import { registerUser } from "./js/auth.js";

      document.addEventListener("DOMContentLoaded", () => {
        const form = document.getElementById("signupForm");

        form.addEventListener("submit", async (e) => {
          e.preventDefault();

          const name = document.getElementById("username").value;
          const email = document.getElementById("email").value;
          const password = document.getElementById("password").value;
          const confirmPassword = document.getElementById("confirmPassword").value;

          const success = await registerUser(name, email, password, confirmPassword);
          if (success) {
            alert("Account created successfully!");
            form.reset();
            // Optional: redirect to login page
            // window.location.href = "login.html";
          }
        });
      });
    </script>
  </body>
</html>
